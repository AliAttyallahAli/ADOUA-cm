(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,20955,(e,t,r)=>{!function(){var e={229:function(e){var t,r,s,n=e.exports={};function a(){throw Error("setTimeout has not been defined")}function l(){throw Error("clearTimeout has not been defined")}try{t="function"==typeof setTimeout?setTimeout:a}catch(e){t=a}try{r="function"==typeof clearTimeout?clearTimeout:l}catch(e){r=l}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===a||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}var o=[],c=!1,d=-1;function u(){c&&s&&(c=!1,s.length?o=s.concat(o):d=-1,o.length&&m())}function m(){if(!c){var e=i(u);c=!0;for(var t=o.length;t;){for(s=o,o=[];++d<t;)s&&s[d].run();d=-1,t=o.length}s=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===l||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function x(e,t){this.fun=e,this.array=t}function f(){}n.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];o.push(new x(e,t)),1!==o.length||c||i(m)},x.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=f,n.addListener=f,n.once=f,n.off=f,n.removeListener=f,n.removeAllListeners=f,n.emit=f,n.prependListener=f,n.prependOnceListener=f,n.listeners=function(e){return[]},n.binding=function(e){throw Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw Error("process.chdir is not supported")},n.umask=function(){return 0}}},r={};function s(t){var n=r[t];if(void 0!==n)return n.exports;var a=r[t]={exports:{}},l=!0;try{e[t](a,a.exports,s),l=!1}finally{l&&delete r[t]}return a.exports}s.ab="/ROOT/node_modules/next/dist/compiled/process/",t.exports=s(229)}()},50461,(e,t,r)=>{"use strict";var s,n;t.exports=(null==(s=e.g.process)?void 0:s.env)&&"object"==typeof(null==(n=e.g.process)?void 0:n.env)?e.g.process:e.r(20955)},41705,(e,t,r)=>{"use strict";r._=function(e){return e&&e.__esModule?e:{default:e}}},8481,(e,t,r)=>{"use strict";var s=Symbol.for("react.transitional.element");function n(e,t,r){var n=null;if(void 0!==r&&(n=""+r),void 0!==t.key&&(n=""+t.key),"key"in t)for(var a in r={},t)"key"!==a&&(r[a]=t[a]);else r=t;return{$$typeof:s,type:e,key:n,ref:void 0!==(t=r.ref)?t:null,props:r}}r.Fragment=Symbol.for("react.fragment"),r.jsx=n,r.jsxs=n},91398,(e,t,r)=>{"use strict";t.exports=e.r(8481)},61556,(e,t,r)=>{"use strict";var s=e.i(50461),n=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),h=Symbol.iterator,g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,b={};function j(e,t,r){this.props=e,this.context=t,this.refs=b,this.updater=r||g}function v(){}function N(e,t,r){this.props=e,this.context=t,this.refs=b,this.updater=r||g}j.prototype.isReactComponent={},j.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},j.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=j.prototype;var w=N.prototype=new v;w.constructor=N,y(w,j.prototype),w.isPureReactComponent=!0;var _=Array.isArray;function S(){}var k={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function E(e,t,r){var s=r.ref;return{$$typeof:n,type:e,key:t,ref:void 0!==s?s:null,props:r}}function O(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var P=/\/+/g;function T(e,t){var r,s;return"object"==typeof e&&null!==e&&null!=e.key?(r=""+e.key,s={"=":"=0",":":"=2"},"$"+r.replace(/[=:]/g,function(e){return s[e]})):t.toString(36)}function L(e,t,r){if(null==e)return e;var s=[],l=0;return!function e(t,r,s,l,i){var o,c,d,u=typeof t;("undefined"===u||"boolean"===u)&&(t=null);var m=!1;if(null===t)m=!0;else switch(u){case"bigint":case"string":case"number":m=!0;break;case"object":switch(t.$$typeof){case n:case a:m=!0;break;case f:return e((m=t._init)(t._payload),r,s,l,i)}}if(m)return i=i(t),m=""===l?"."+T(t,0):l,_(i)?(s="",null!=m&&(s=m.replace(P,"$&/")+"/"),e(i,r,s,"",function(e){return e})):null!=i&&(O(i)&&(o=i,c=s+(null==i.key||t&&t.key===i.key?"":(""+i.key).replace(P,"$&/")+"/")+m,i=E(o.type,c,o.props)),r.push(i)),1;m=0;var x=""===l?".":l+":";if(_(t))for(var p=0;p<t.length;p++)u=x+T(l=t[p],p),m+=e(l,r,s,u,i);else if("function"==typeof(p=null===(d=t)||"object"!=typeof d?null:"function"==typeof(d=h&&d[h]||d["@@iterator"])?d:null))for(t=p.call(t),p=0;!(l=t.next()).done;)u=x+T(l=l.value,p++),m+=e(l,r,s,u,i);else if("object"===u){if("function"==typeof t.then)return e(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"==typeof e.status?e.then(S,S):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(t),r,s,l,i);throw Error("Objects are not valid as a React child (found: "+("[object Object]"===(r=String(t))?"object with keys {"+Object.keys(t).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.")}return m}(e,s,"","",function(e){return t.call(r,e,l++)}),s}function R(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){(0===e._status||-1===e._status)&&(e._status=1,e._result=t)},function(t){(0===e._status||-1===e._status)&&(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof s.default&&"function"==typeof s.default.emit)return void s.default.emit("uncaughtException",e);console.error(e)};r.Activity=p,r.Children={map:L,forEach:function(e,t,r){L(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return L(e,function(){t++}),t},toArray:function(e){return L(e,function(e){return e})||[]},only:function(e){if(!O(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},r.Component=j,r.Fragment=l,r.Profiler=o,r.PureComponent=N,r.StrictMode=i,r.Suspense=m,r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,r.__COMPILER_RUNTIME={__proto__:null,c:function(e){return k.H.useMemoCache(e)}},r.cache=function(e){return function(){return e.apply(null,arguments)}},r.cacheSignal=function(){return null},r.cloneElement=function(e,t,r){if(null==e)throw Error("The argument must be a React element, but you passed "+e+".");var s=y({},e.props),n=e.key;if(null!=t)for(a in void 0!==t.key&&(n=""+t.key),t)C.call(t,a)&&"key"!==a&&"__self"!==a&&"__source"!==a&&("ref"!==a||void 0!==t.ref)&&(s[a]=t[a]);var a=arguments.length-2;if(1===a)s.children=r;else if(1<a){for(var l=Array(a),i=0;i<a;i++)l[i]=arguments[i+2];s.children=l}return E(e.type,n,s)},r.createContext=function(e){return(e={$$typeof:d,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:c,_context:e},e},r.createElement=function(e,t,r){var s,n={},a=null;if(null!=t)for(s in void 0!==t.key&&(a=""+t.key),t)C.call(t,s)&&"key"!==s&&"__self"!==s&&"__source"!==s&&(n[s]=t[s]);var l=arguments.length-2;if(1===l)n.children=r;else if(1<l){for(var i=Array(l),o=0;o<l;o++)i[o]=arguments[o+2];n.children=i}if(e&&e.defaultProps)for(s in l=e.defaultProps)void 0===n[s]&&(n[s]=l[s]);return E(e,a,n)},r.createRef=function(){return{current:null}},r.forwardRef=function(e){return{$$typeof:u,render:e}},r.isValidElement=O,r.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:R}},r.memo=function(e,t){return{$$typeof:x,type:e,compare:void 0===t?null:t}},r.startTransition=function(e){var t=k.T,r={};k.T=r;try{var s=e(),n=k.S;null!==n&&n(r,s),"object"==typeof s&&null!==s&&"function"==typeof s.then&&s.then(S,D)}catch(e){D(e)}finally{null!==t&&null!==r.types&&(t.types=r.types),k.T=t}},r.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},r.use=function(e){return k.H.use(e)},r.useActionState=function(e,t,r){return k.H.useActionState(e,t,r)},r.useCallback=function(e,t){return k.H.useCallback(e,t)},r.useContext=function(e){return k.H.useContext(e)},r.useDebugValue=function(){},r.useDeferredValue=function(e,t){return k.H.useDeferredValue(e,t)},r.useEffect=function(e,t){return k.H.useEffect(e,t)},r.useEffectEvent=function(e){return k.H.useEffectEvent(e)},r.useId=function(){return k.H.useId()},r.useImperativeHandle=function(e,t,r){return k.H.useImperativeHandle(e,t,r)},r.useInsertionEffect=function(e,t){return k.H.useInsertionEffect(e,t)},r.useLayoutEffect=function(e,t){return k.H.useLayoutEffect(e,t)},r.useMemo=function(e,t){return k.H.useMemo(e,t)},r.useOptimistic=function(e,t){return k.H.useOptimistic(e,t)},r.useReducer=function(e,t,r){return k.H.useReducer(e,t,r)},r.useRef=function(e){return k.H.useRef(e)},r.useState=function(e){return k.H.useState(e)},r.useSyncExternalStore=function(e,t,r){return k.H.useSyncExternalStore(e,t,r)},r.useTransition=function(){return k.H.useTransition()},r.version="19.2.0"},91788,(e,t,r)=>{"use strict";t.exports=e.r(61556)},13584,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"HeadManagerContext",{enumerable:!0,get:function(){return s}});let s=e.r(41705)._(e.r(91788)).default.createContext({})},94470,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"warnOnce",{enumerable:!0,get:function(){return s}});let s=e=>{}},52456,(e,t,r)=>{"use strict";function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}r._=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=a?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(n,l,i):n[l]=e[l]}return n.default=e,r&&r.set(e,n),n}},89129,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{DecodeError:function(){return p},MiddlewareNotFoundError:function(){return b},MissingStaticPage:function(){return y},NormalizeError:function(){return h},PageNotFoundError:function(){return g},SP:function(){return x},ST:function(){return f},WEB_VITALS:function(){return s},execOnce:function(){return n},getDisplayName:function(){return c},getLocationOrigin:function(){return i},getURL:function(){return o},isAbsoluteUrl:function(){return l},isResSent:function(){return d},loadGetInitialProps:function(){return m},normalizeRepeatedSlashes:function(){return u},stringifyError:function(){return j}});let s=["CLS","FCP","FID","INP","LCP","TTFB"];function n(e){let t,r=!1;return function(){for(var s=arguments.length,n=Array(s),a=0;a<s;a++)n[a]=arguments[a];return r||(r=!0,t=e(...n)),t}}let a=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,l=e=>a.test(e);function i(){let{protocol:e,hostname:t,port:r}=window.location;return e+"//"+t+(r?":"+r:"")}function o(){let{href:e}=window.location,t=i();return e.substring(t.length)}function c(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function d(e){return e.finished||e.headersSent}function u(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?"?"+t.slice(1).join("?"):"")}async function m(e,t){let r=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await m(t.Component,t.ctx)}:{};let s=await e.getInitialProps(t);if(r&&d(r))return s;if(!s)throw Object.defineProperty(Error('"'+c(e)+'.getInitialProps()" should resolve to an object. But found "'+s+'" instead.'),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return s}let x="undefined"!=typeof performance,f=x&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class p extends Error{}class h extends Error{}class g extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message="Cannot find module for page: "+e}}class y extends Error{constructor(e,t){super(),this.message="Failed to load static file for page: "+e+" "+t}}class b extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function j(e){return JSON.stringify({message:e.message,stack:e.stack})}},3828,(e,t,r)=>{t.exports=e.r(26990)},71914,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useIntersection",{enumerable:!0,get:function(){return o}});let s=e.r(91788),n=e.r(99604),a="function"==typeof IntersectionObserver,l=new Map,i=[];function o(e){let{rootRef:t,rootMargin:r,disabled:o}=e,c=o||!a,[d,u]=(0,s.useState)(!1),m=(0,s.useRef)(null),x=(0,s.useCallback)(e=>{m.current=e},[]);return(0,s.useEffect)(()=>{if(a){if(c||d)return;let e=m.current;if(e&&e.tagName)return function(e,t,r){let{id:s,observer:n,elements:a}=function(e){let t,r={root:e.root||null,margin:e.rootMargin||""},s=i.find(e=>e.root===r.root&&e.margin===r.margin);if(s&&(t=l.get(s)))return t;let n=new Map;return t={id:r,observer:new IntersectionObserver(e=>{e.forEach(e=>{let t=n.get(e.target),r=e.isIntersecting||e.intersectionRatio>0;t&&r&&t(r)})},e),elements:n},i.push(r),l.set(r,t),t}(r);return a.set(e,t),n.observe(e),function(){if(a.delete(e),n.unobserve(e),0===a.size){n.disconnect(),l.delete(s);let e=i.findIndex(e=>e.root===s.root&&e.margin===s.margin);e>-1&&i.splice(e,1)}}}(e,e=>e&&u(e),{root:null==t?void 0:t.current,rootMargin:r})}else if(!d){let e=(0,n.requestIdleCallback)(()=>u(!0));return()=>(0,n.cancelIdleCallback)(e)}},[c,r,t,d,m.current]),[x,d,(0,s.useCallback)(()=>{u(!1)},[])]}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},54471,(e,t,r)=>{"use strict";function s(e,t,r,s){return!1}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"getDomainLocale",{enumerable:!0,get:function(){return s}}),e.r(70090),("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},63230,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useMergedRef",{enumerable:!0,get:function(){return n}});let s=e.r(91788);function n(e,t){let r=(0,s.useRef)(null),n=(0,s.useRef)(null);return(0,s.useCallback)(s=>{if(null===s){let e=r.current;e&&(r.current=null,e());let t=n.current;t&&(n.current=null,t())}else e&&(r.current=a(e,s)),t&&(n.current=a(t,s))},[e,t])}function a(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},48735,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"errorOnce",{enumerable:!0,get:function(){return s}});let s=e=>{}},39149,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{default:function(){return N},useLinkStatus:function(){return v}});let s=e.r(52456),n=e.r(91398),a=s._(e.r(91788)),l=e.r(60472),i=e.r(71112),o=e.r(28169),c=e.r(89129),d=e.r(14862),u=e.r(25479),m=e.r(71914),x=e.r(54471),f=e.r(44113),p=e.r(63230);e.r(48735);let h=new Set;function g(e,t,r,s){if("undefined"!=typeof window&&(0,i.isLocalURL)(t)){if(!s.bypassPrefetchedCheck){let n=t+"%"+r+"%"+(void 0!==s.locale?s.locale:"locale"in e?e.locale:void 0);if(h.has(n))return;h.add(n)}e.prefetch(t,r,s).catch(e=>{})}}function y(e){return"string"==typeof e?e:(0,o.formatUrl)(e)}let b=a.default.forwardRef(function(e,t){let r,s,{href:o,as:h,children:b,prefetch:j=null,passHref:v,replace:N,shallow:w,scroll:_,locale:S,onClick:k,onNavigate:C,onMouseEnter:E,onTouchStart:O,legacyBehavior:P=!1,...T}=e;r=b,P&&("string"==typeof r||"number"==typeof r)&&(r=(0,n.jsx)("a",{children:r}));let L=a.default.useContext(u.RouterContext),R=!1!==j,{href:D,as:M}=a.default.useMemo(()=>{if(!L){let e=y(o);return{href:e,as:h?y(h):e}}let[e,t]=(0,l.resolveHref)(L,o,!0);return{href:e,as:h?(0,l.resolveHref)(L,h):t||e}},[L,o,h]),A=a.default.useRef(D),F=a.default.useRef(M);P&&(s=a.default.Children.only(r));let I=P?s&&"object"==typeof s&&s.ref:t,[H,U,$]=(0,m.useIntersection)({rootMargin:"200px"}),z=a.default.useCallback(e=>{(F.current!==M||A.current!==D)&&($(),F.current=M,A.current=D),H(e)},[M,D,$,H]),V=(0,p.useMergedRef)(z,I);a.default.useEffect(()=>{L&&U&&R&&g(L,D,M,{locale:S})},[M,D,U,S,R,null==L?void 0:L.locale,L]);let B={ref:V,onClick(e){P||"function"!=typeof k||k(e),P&&s.props&&"function"==typeof s.props.onClick&&s.props.onClick(e),L&&(e.defaultPrevented||function(e,t,r,s,n,a,l,o,c){let{nodeName:d}=e.currentTarget;if(!("A"===d.toUpperCase()&&function(e){let t=e.currentTarget.getAttribute("target");return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)||e.currentTarget.hasAttribute("download"))){if(!(0,i.isLocalURL)(r)){n&&(e.preventDefault(),location.replace(r));return}e.preventDefault(),(()=>{if(c){let e=!1;if(c({preventDefault:()=>{e=!0}}),e)return}let e=null==l||l;"beforePopState"in t?t[n?"replace":"push"](r,s,{shallow:a,locale:o,scroll:e}):t[n?"replace":"push"](s||r,{scroll:e})})()}}(e,L,D,M,N,w,_,S,C))},onMouseEnter(e){P||"function"!=typeof E||E(e),P&&s.props&&"function"==typeof s.props.onMouseEnter&&s.props.onMouseEnter(e),L&&g(L,D,M,{locale:S,priority:!0,bypassPrefetchedCheck:!0})},onTouchStart:function(e){P||"function"!=typeof O||O(e),P&&s.props&&"function"==typeof s.props.onTouchStart&&s.props.onTouchStart(e),L&&g(L,D,M,{locale:S,priority:!0,bypassPrefetchedCheck:!0})}};if((0,c.isAbsoluteUrl)(M))B.href=M;else if(!P||v||"a"===s.type&&!("href"in s.props)){let e=void 0!==S?S:null==L?void 0:L.locale;B.href=(null==L?void 0:L.isLocaleDomain)&&(0,x.getDomainLocale)(M,e,null==L?void 0:L.locales,null==L?void 0:L.domainLocales)||(0,f.addBasePath)((0,d.addLocale)(M,e,null==L?void 0:L.defaultLocale))}return P?a.default.cloneElement(s,B):(0,n.jsx)("a",{...T,...B,children:r})}),j=(0,a.createContext)({pending:!1}),v=()=>(0,a.useContext)(j),N=b;("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},41158,(e,t,r)=>{t.exports=e.r(39149)},2589,e=>{"use strict";e.s(["default",()=>a]);var t=e.i(91398),r=e.i(3828),s=e.i(91788),n=e.i(41158);function a(){let{id:e}=(0,r.useRouter)().query,[a,u]=(0,s.useState)(null),[m,x]=(0,s.useState)([]),[f,p]=(0,s.useState)([]),[h,g]=(0,s.useState)("overview"),[y,b]=(0,s.useState)(!0);(0,s.useEffect)(()=>{e&&j()},[e]);let j=async()=>{b(!0);let t=localStorage.getItem("token");try{let r=await fetch("/api/clients/".concat(e),{headers:{Authorization:"Bearer ".concat(t)}}),s=await r.json();u(s);let n=await fetch("/api/clients/".concat(e,"/transactions"),{headers:{Authorization:"Bearer ".concat(t)}}),a=await n.json();x(a);let l=await fetch("/api/clients/".concat(e,"/loans"),{headers:{Authorization:"Bearer ".concat(t)}}),i=await l.json();p(i)}catch(e){console.error("Erreur:",e)}finally{b(!1)}},v=async()=>{let t=localStorage.getItem("token");try{let r=await fetch("/api/generate-card/".concat(e),{headers:{Authorization:"Bearer ".concat(t)}});if(r.ok){let e=await r.blob(),t=window.URL.createObjectURL(e),s=document.createElement("a");s.href=t,s.download="carte_visa_".concat(a.name,".pdf"),document.body.appendChild(s),s.click(),window.URL.revokeObjectURL(t)}}catch(e){console.error("Erreur:",e),alert("Erreur lors de la génération de la carte")}};return y?(0,t.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,t.jsx)("p",{className:"mt-4 text-gray-600",children:"Chargement des données du client..."})]})}):a?(0,t.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,t.jsx)("header",{className:"bg-white shadow",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)(n.default,{href:"/dashboard?tab=clients",className:"text-blue-600 hover:text-blue-800",children:"← Retour"}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[a.photo?(0,t.jsx)("img",{src:a.photo,alt:a.name,className:"h-16 w-16 rounded-full object-cover"}):(0,t.jsx)("div",{className:"h-16 w-16 bg-blue-100 rounded-full flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-blue-600 font-semibold text-2xl",children:a.name.charAt(0).toUpperCase()})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:a.name}),(0,t.jsxs)("p",{className:"text-gray-600",children:[a.email," • ",a.phone]}),(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:["Client depuis ",new Date(a.created_at).toLocaleDateString()]})]})]})]}),(0,t.jsxs)("div",{className:"flex space-x-3",children:[(0,t.jsx)("button",{onClick:v,className:"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700",children:"Générer Carte Visa"}),(0,t.jsx)("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700",children:"Modifier"})]})]})})}),(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-600",children:"Solde Actuel"}),(0,t.jsxs)("p",{className:"text-3xl font-bold text-green-600",children:[parseFloat(a.balance||0).toLocaleString()," XOF"]})]}),(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-600",children:"Total Transactions"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-blue-600",children:m.length})]}),(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-600",children:"Prêts Actifs"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-orange-600",children:f.filter(e=>"active"===e.status).length})]}),(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-600",children:"Dette Totale"}),(0,t.jsxs)("p",{className:"text-3xl font-bold text-red-600",children:[f.filter(e=>"active"===e.status).reduce((e,t)=>e+parseFloat(t.remaining_amount),0).toLocaleString()," XOF"]})]})]}),(0,t.jsx)("div",{className:"bg-white shadow-sm rounded-lg mb-6",children:(0,t.jsx)("nav",{className:"flex space-x-8 px-6",children:["overview","personal","transactions","loans","documents"].map(e=>(0,t.jsxs)("button",{onClick:()=>g(e),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat(h===e?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),children:["overview"===e&&"Aperçu","personal"===e&&"Informations Personnelles","transactions"===e&&"Transactions","loans"===e&&"Prêts","documents"===e&&"Documents"]},e))})}),(0,t.jsxs)("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:["overview"===h&&(0,t.jsx)(l,{client:a,transactions:m,loans:f}),"personal"===h&&(0,t.jsx)(i,{client:a}),"transactions"===h&&(0,t.jsx)(o,{transactions:m}),"loans"===h&&(0,t.jsx)(c,{loans:f,clientId:e}),"documents"===h&&(0,t.jsx)(d,{client:a})]})]})]}):(0,t.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Client non trouvé"}),(0,t.jsx)(n.default,{href:"/dashboard",className:"text-blue-600 hover:text-blue-800 mt-4 inline-block",children:"← Retour au dashboard"})]})})}function l(e){let{client:r,transactions:s,loans:n}=e,a=s.slice(0,5),l=n.filter(e=>"active"===e.status);return(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-bold mb-6",children:"Aperçu du Client"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-700 mb-3",children:"Informations de Contact"}),(0,t.jsxs)("dl",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Email"}),(0,t.jsx)("dd",{className:"text-sm text-gray-900",children:r.email})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Téléphone"}),(0,t.jsx)("dd",{className:"text-sm text-gray-900",children:r.phone})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Adresse"}),(0,t.jsx)("dd",{className:"text-sm text-gray-900",children:r.address||"Non renseignée"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"CIN"}),(0,t.jsx)("dd",{className:"text-sm text-gray-900",children:r.cin})]})]})]}),(0,t.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,t.jsx)("h3",{className:"font-semibold text-blue-700 mb-3",children:"Informations Wallet"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm font-medium text-blue-600",children:"Adresse Wallet"}),(0,t.jsx)("span",{className:"text-sm font-mono text-blue-800",children:r.wallet_address})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm font-medium text-blue-600",children:"Solde"}),(0,t.jsxs)("span",{className:"text-sm font-bold text-green-600",children:[parseFloat(r.balance||0).toLocaleString()," XOF"]})]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg",children:[(0,t.jsx)("div",{className:"px-4 py-3 border-b border-gray-200",children:(0,t.jsx)("h3",{className:"font-semibold text-gray-700",children:"Transactions Récentes"})}),(0,t.jsx)("div",{className:"p-4",children:0===a.length?(0,t.jsx)("p",{className:"text-gray-500 text-sm",children:"Aucune transaction récente"}):(0,t.jsx)("div",{className:"space-y-3",children:a.map(e=>(0,t.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:e.type}),(0,t.jsx)("p",{className:"text-gray-500 text-xs",children:new Date(e.created_at).toLocaleDateString()})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("p",{className:"font-semibold ".concat("depot"===e.type?"text-green-600":"text-red-600"),children:[e.amount," XOF"]}),(0,t.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat("completed"===e.status?"bg-green-100 text-green-800":"pending"===e.status?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:e.status})]})]},e.id))})})]}),(0,t.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg",children:[(0,t.jsx)("div",{className:"px-4 py-3 border-b border-gray-200",children:(0,t.jsx)("h3",{className:"font-semibold text-gray-700",children:"Prêts Actifs"})}),(0,t.jsx)("div",{className:"p-4",children:0===l.length?(0,t.jsx)("p",{className:"text-gray-500 text-sm",children:"Aucun prêt actif"}):(0,t.jsx)("div",{className:"space-y-3",children:l.map(e=>(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,t.jsxs)("span",{className:"font-medium",children:["Prêt #",e.id]}),(0,t.jsxs)("span",{className:"text-red-600",children:[e.remaining_amount," XOF"]})]}),(0,t.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,t.jsx)("div",{className:"bg-green-600 h-2 rounded-full",style:{width:"".concat((e.total_amount-e.remaining_amount)/e.total_amount*100,"%")}})}),(0,t.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[(0,t.jsxs)("span",{children:["Payé: ",e.paid_amount," XOF"]}),(0,t.jsxs)("span",{children:["Total: ",e.total_amount," XOF"]})]})]},e.id))})})]})]})]})]})}function i(e){let{client:r}=e;return(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-bold mb-6",children:"Informations Personnelles"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Coordonnées"}),(0,t.jsxs)("dl",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Nom Complet"}),(0,t.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:r.name})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Email"}),(0,t.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:r.email})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Téléphone"}),(0,t.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:r.phone})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Adresse"}),(0,t.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:r.address||"Non renseignée"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Ville"}),(0,t.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:r.city||"Non renseignée"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Informations d'Identité"}),(0,t.jsxs)("dl",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"CIN/Numéro d'Identité"}),(0,t.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:r.cin})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Profession"}),(0,t.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:r.profession||"Non renseignée"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Date de Naissance"}),(0,t.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:r.date_of_birth?new Date(r.date_of_birth).toLocaleDateString():"Non renseignée"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Date d'Inscription"}),(0,t.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:new Date(r.created_at).toLocaleDateString()})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Statut"}),(0,t.jsx)("dd",{className:"mt-1",children:(0,t.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(r.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:r.is_active?"Actif":"Inactif"})})]})]})]})]}),(0,t.jsxs)("div",{className:"mt-8",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Informations Financières"}),(0,t.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Score de Crédit"}),(0,t.jsxs)("dd",{className:"mt-1 text-2xl font-bold text-blue-600",children:[r.credit_score||100,"/100"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Wallet Address"}),(0,t.jsx)("dd",{className:"mt-1 font-mono text-sm text-gray-900",children:r.wallet_address})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Dernière Mise à Jour"}),(0,t.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:new Date(r.updated_at).toLocaleDateString()})]})]})})]})]})}function o(e){let{transactions:r}=e,[n,a]=(0,s.useState)(r),[l,i]=(0,s.useState)({type:"",status:"",date:""});(0,s.useEffect)(()=>{let e=r;l.type&&(e=e.filter(e=>e.type===l.type)),l.status&&(e=e.filter(e=>e.status===l.status)),l.date&&(e=e.filter(e=>new Date(e.created_at).toLocaleDateString()===new Date(l.date).toLocaleDateString())),a(e)},[l,r]);let o=async()=>{alert("Fonction d'export PDF à implémenter")};return(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsx)("h2",{className:"text-xl font-bold",children:"Historique des Transactions"}),(0,t.jsx)("div",{className:"flex space-x-3",children:(0,t.jsx)("button",{onClick:o,className:"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700",children:"Exporter PDF"})})]}),(0,t.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),(0,t.jsxs)("select",{value:l.type,onChange:e=>i({...l,type:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm",children:[(0,t.jsx)("option",{value:"",children:"Tous les types"}),(0,t.jsx)("option",{value:"transfert",children:"Transfert"}),(0,t.jsx)("option",{value:"depot",children:"Dépôt"}),(0,t.jsx)("option",{value:"retrait",children:"Retrait"}),(0,t.jsx)("option",{value:"pret",children:"Prêt"}),(0,t.jsx)("option",{value:"remboursement",children:"Remboursement"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Statut"}),(0,t.jsxs)("select",{value:l.status,onChange:e=>i({...l,status:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm",children:[(0,t.jsx)("option",{value:"",children:"Tous les statuts"}),(0,t.jsx)("option",{value:"pending",children:"En attente"}),(0,t.jsx)("option",{value:"completed",children:"Complétée"}),(0,t.jsx)("option",{value:"cancelled",children:"Annulée"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),(0,t.jsx)("input",{type:"date",value:l.date,onChange:e=>i({...l,date:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"})]}),(0,t.jsx)("div",{className:"flex items-end",children:(0,t.jsx)("button",{onClick:()=>i({type:"",status:"",date:""}),className:"w-full bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 text-sm",children:"Réinitialiser"})})]})}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,t.jsx)("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Montant"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===n.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:"7",className:"px-6 py-4 text-center text-sm text-gray-500",children:"Aucune transaction trouvée"})}):n.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,t.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",e.id]}),(0,t.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[new Date(e.created_at).toLocaleDateString(),(0,t.jsx)("br",{}),(0,t.jsx)("span",{className:"text-xs text-gray-400",children:new Date(e.created_at).toLocaleTimeString()})]}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,t.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("depot"===e.type?"bg-green-100 text-green-800":"retrait"===e.type?"bg-red-100 text-red-800":"pret"===e.type?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:e.type})}),(0,t.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold ${ transaction.type === 'depot' ? 'text-green-600' : 'text-red-600' }",children:[parseFloat(e.amount).toLocaleString()," XOF"]}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm text-gray-500 max-w-xs truncate",children:e.description||"Aucune description"}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("completed"===e.status?"bg-green-100 text-green-800":"pending"===e.status?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:e.status})}),(0,t.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[(0,t.jsx)("button",{className:"text-blue-600 hover:text-blue-900 mr-3",children:"Détails"}),"pending"===e.status&&(0,t.jsx)("button",{className:"text-green-600 hover:text-green-900",children:"Valider"})]})]},e.id))})]})}),(0,t.jsxs)("div",{className:"mt-6 flex items-center justify-between",children:[(0,t.jsxs)("p",{className:"text-sm text-gray-700",children:["Affichage de ",(0,t.jsx)("span",{className:"font-medium",children:n.length})," transactions"]}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsx)("button",{className:"px-3 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Précédent"}),(0,t.jsx)("button",{className:"px-3 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Suivant"})]})]})]})}function c(e){let{loans:r,clientId:n}=e,[a,l]=(0,s.useState)(!1),[i,o]=(0,s.useState)(null),c=async(e,t)=>{let r=localStorage.getItem("token");try{let s=await fetch("/api/loans/".concat(e,"/repayment"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify({amount:parseFloat(t)})});if(s.ok)alert("Remboursement effectué avec succès"),o(null),window.location.reload();else{let e=await s.json();alert(e.error)}}catch(e){console.error("Erreur:",e),alert("Erreur lors du remboursement")}};return(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsx)("h2",{className:"text-xl font-bold",children:"Gestion des Prêts"}),(0,t.jsx)("button",{onClick:()=>l(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700",children:"Nouveau Prêt"})]}),a&&(0,t.jsx)(u,{clientId:n,onClose:()=>l(!1),onSuccess:()=>window.location.reload()}),i&&(0,t.jsx)(m,{loan:i,onClose:()=>o(null),onRepayment:c}),0===r.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),(0,t.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Aucun prêt"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Commencez par créer un nouveau prêt pour ce client."})]}):(0,t.jsx)("div",{className:"space-y-6",children:r.map(e=>(0,t.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Prêt #",e.id]}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Créé le ",new Date(e.created_at).toLocaleDateString()]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("active"===e.status?"bg-green-100 text-green-800":"completed"===e.status?"bg-blue-100 text-blue-800":"defaulted"===e.status?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:e.status}),"active"===e.status&&(0,t.jsx)("button",{onClick:()=>o(e),className:"bg-green-600 text-white px-3 py-1 rounded text-sm hover:bg-green-700",children:"Rembourser"})]})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,t.jsx)("span",{children:"Progression du remboursement"}),(0,t.jsxs)("span",{children:[parseFloat(e.paid_amount).toLocaleString()," / ",parseFloat(e.total_amount).toLocaleString()," XOF"]})]}),(0,t.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,t.jsx)("div",{className:"bg-green-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(parseFloat(e.paid_amount)/parseFloat(e.total_amount)*100,"%")}})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-gray-500",children:"Montant initial"}),(0,t.jsxs)("p",{className:"text-gray-900",children:[parseFloat(e.amount).toLocaleString()," XOF"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-gray-500",children:"Taux d'intérêt"}),(0,t.jsxs)("p",{className:"text-gray-900",children:[e.interest_rate,"%"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-gray-500",children:"Total à payer"}),(0,t.jsxs)("p",{className:"text-green-600 font-semibold",children:[parseFloat(e.total_amount).toLocaleString()," XOF"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-gray-500",children:"Reste à payer"}),(0,t.jsxs)("p",{className:"text-red-600 font-semibold",children:[parseFloat(e.remaining_amount).toLocaleString()," XOF"]})]})]}),(0,t.jsxs)("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-3 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-gray-500",children:"Durée"}),(0,t.jsxs)("p",{className:"text-gray-900",children:[e.duration," mois"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-gray-500",children:"Mensualité"}),(0,t.jsxs)("p",{className:"text-gray-900",children:[parseFloat(e.monthly_payment).toLocaleString()," XOF/mois"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-gray-500",children:"Date de fin"}),(0,t.jsx)("p",{className:"text-gray-900",children:e.end_date?new Date(e.end_date).toLocaleDateString():"Non définie"})]})]}),e.purpose&&(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)("span",{className:"font-medium text-gray-500",children:"Objet du prêt"}),(0,t.jsx)("p",{className:"text-gray-900",children:e.purpose})]})]},e.id))})]})}function d(e){let{client:r}=e,[n,a]=(0,s.useState)([]),l=async()=>{let e=localStorage.getItem("token");try{let t=await fetch("/api/generate-card/".concat(r.id),{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){let e=await t.blob(),s=window.URL.createObjectURL(e),n=document.createElement("a");n.href=s,n.download="carte_visa_".concat(r.name,".pdf"),document.body.appendChild(n),n.click(),window.URL.revokeObjectURL(s)}}catch(e){console.error("Erreur:",e),alert("Erreur lors de la génération de la carte")}};return(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-bold mb-6",children:"Documents du Client"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6 text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)("svg",{className:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})})}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Carte Visa ADOUAS-MC"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Carte de crédit personnalisée avec QR code contenant les informations du wallet."}),(0,t.jsx)("button",{onClick:l,className:"w-full bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700",children:"Générer la Carte"})]}),(0,t.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6 text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Contrat de Prêt"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Document contractuel pour les prêts accordés au client."}),(0,t.jsx)("button",{className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700",children:"Générer Contrat"})]}),(0,t.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6 text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)("svg",{className:"w-8 h-8 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Relevé de Compte"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Historique complet des transactions et soldes."}),(0,t.jsx)("button",{className:"w-full bg-purple-600 text-white py-2 px-4 rounded-md hover:bg-purple-700",children:"Générer Relevé"})]})]}),(0,t.jsxs)("div",{className:"mt-8",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Documents Générés"}),0===n.length?(0,t.jsxs)("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[(0,t.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,t.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"Aucun document généré pour le moment"})]}):(0,t.jsx)("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:(0,t.jsx)("ul",{className:"divide-y divide-gray-200",children:n.map(e=>(0,t.jsx)("li",{children:(0,t.jsxs)("div",{className:"px-4 py-4 flex items-center justify-between sm:px-6",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("svg",{className:"h-8 w-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.title}),(0,t.jsxs)("div",{className:"text-sm text-gray-500",children:["Généré le ",new Date(e.created_at).toLocaleDateString()]})]})]}),(0,t.jsx)("div",{children:(0,t.jsx)("button",{className:"inline-flex items-center px-3 py-1 border border-transparent text-sm leading-5 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-500 focus:outline-none focus:shadow-outline-blue focus:border-blue-700 active:bg-blue-700 transition duration-150 ease-in-out",children:"Télécharger"})})]})},e.id))})})]})]})}function u(e){let{clientId:r,onClose:s,onSuccess:n}=e;return(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,t.jsx)("h3",{className:"text-lg font-bold mb-4",children:"Nouveau Prêt"}),(0,t.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,t.jsx)("button",{onClick:s,className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Annuler"}),(0,t.jsx)("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Créer"})]})]})})}function m(e){let{loan:r,onClose:n,onRepayment:a}=e,[l,i]=(0,s.useState)("");return(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,t.jsx)("h3",{className:"text-lg font-bold mb-4",children:"Remboursement de Prêt"}),(0,t.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),parseFloat(l)>parseFloat(r.remaining_amount))return void alert("Le montant ne peut pas dépasser le reste à payer");a(r.id,l)},children:[(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Montant du remboursement (XOF)"}),(0,t.jsx)("input",{type:"number",value:l,onChange:e=>i(e.target.value),max:r.remaining_amount,className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Reste à payer: ",parseFloat(r.remaining_amount).toLocaleString()," XOF"]})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,t.jsx)("button",{type:"button",onClick:n,className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Annuler"}),(0,t.jsx)("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:"Effectuer le Remboursement"})]})]})]})})}},43062,(e,t,r)=>{let s="/clients/[id]";(window.__NEXT_P=window.__NEXT_P||[]).push([s,()=>e.r(2589)]),t.hot&&t.hot.dispose(function(){window.__NEXT_P.push([s])})},48761,e=>{e.v(t=>Promise.all(["static/chunks/538cc02e54714b23.js"].map(t=>e.l(t))).then(()=>t(93594)))},28805,e=>{e.v(t=>Promise.all(["static/chunks/bd2dcf98c9b362f6.js"].map(t=>e.l(t))).then(()=>t(79466)))}]);